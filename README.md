# Shopping Cart App

A shopping cart application where a user canadd to, remove from and edit inside a cart.

## Process

The idea is to create a simple shopping cart application where a user can add to, remove from and edit inside a cart.
In other to accomplish this, I created 4 models which represented the database table structures. The models are: User, Category, Product and Cart. The next steps was to create routes by which a user would be able to add, edit and delete a product from the cart.

### Relationships

- The Category and Product has a one-to-many relationship, where the Category has many products and the Product has one category.
- The Cart is sort of join table between the User and Product, typically the User has many products in the cart. So there exist a many-to-many relationship between the User and the Product.

## Tools

- [Node.js](https://nodejs.org/) - The server-side runtime environment
- [Express](https://expressjs.com/) - The web application framework
- [MySQL](https://www.mysql.com/) - The database
- [Prisma](https://www.prisma.io/) - The ORM(object relational mapper) for MySQL

## Folder Structure

- `/prisma` - This folder is generated by prisma, which is an ORM (object-relational mapping) for MySQL which is the database for this shopping cart application. This folder holds the schema and migrations folder which are generated and manipulated by Prisma. Subsequently, the seed.ts file also sits here and its purpose is to populate the database with data to get started. To get started with Prisma and generate the folder, `run npx prisma init`. Given that you have @prisma/cli installed.

- `/routes` - This folder holds the routes for the shopping cart application. The routes are imported into the index.js file.

## Files

- `/index.js` - This file is the entry point for the application. It imports the routes and sets up the server.

- `/prisma/schema.prisma` - This file holds all the schema for the database.

- `/prisma/migrations` - This folder holds the migrations for the database.

- `/prisma/seed.ts` - This file holds the seed data to populate the database.

- `/routes/api/carts.js` - This file holds the Cart API routes for the application.

- `.gitignore` - This file holds the list of files to ignore when committing to the repository.

- `.env` - This file holds the environment variables for the application. Basically all sensitive variables are kept here such as database URLs.

- `.env.example` - This file simply provides a structure of how .env should be set up; it could contain just variables without values or consist of mock values and not the actual values.

- `package.json` - This file holds information about the application and is generated by npm. It is generated with the `npm init` command.

## Setup and Run Application

To setup and run the application, follow the steps below:

- Clone repository - `git clone https://github.com/femzy123/shopping-cart`
- Install dependencies - `npm install`
- Create a database where you want your data to be stored
- Create .env file and add the database URL and desired port. Example can be found in the `.env.example` file
- Seed database - `npx prisma db seed`
- Run application - `npm start`

## Testing the cart endpoints

To test the cart endpoints, you will need a REST client like [postman](https://www.getpostman.com/).

Base_URL: `http://localhost:PORT/api/carts` where the port is the port you set in the .env file.

- Add a product to cart:
  -- HTTP Request Type - POST
  -- Endpoint - `http://localhost:3002/api/carts`
  -- Body - `{ "userId": 2, "productId": 1, "quantity": 1 }`

- Get a user's cart:
  -- HTTP Request Type - GET
  -- Endpoint - `http://localhost:3002/api/carts/2`

- Update a cart item:
  -- HTTP Request Type - PUT
  -- Endpoint - `http://localhost:3002/api/carts/2`
  -- Body - `{ "quantity": 2 }`

- Delete a cart item:
  -- HTTP Request Type - DELETE
  -- Endpoint - `http://localhost:3002/api/carts/2`


## Optimization
Introducing Redis to manage the cart system will improve the performance of the application.
The choice of Redis for the cart system stems from a desire to improve the performance of the cart system. Redis insertion and retrieval big O notation is O(1) whereas that of MySQL is O(n). What this means is that anytime you try to retrieve or insert a record from a Redis server it would take a constant time, while on the MySQL it'll vary based on the number of records stored on the table.